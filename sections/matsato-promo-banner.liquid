<style>
  #PromoBanner-{{ section.id }} {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    position: relative;
    display: flex;
    align-items: center;
    background-color: #1a1a1a;
    min-height: 140px;
    {% if section.settings.background_image != blank %}
      background-image: url('{{ section.settings.background_image | image_url: width: 2000 }}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    {% endif %}
  }

  @media screen and (max-width: 749px) {
    #PromoBanner-{{ section.id }} {
      padding-top: {{ section.settings.padding_top_mobile }}px;
      padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
      {% if section.settings.background_image_mobile != blank %}
        background-image: url('{{ section.settings.background_image_mobile | image_url: width: 800 }}');
      {% endif %}
    }
  }

  .matsato-promo-banner__container {
    position: relative;
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 40px;
  }

  .matsato-promo-banner__grid {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0;
  }

  /* LEFT: Decorative Video (Fire) */
  .matsato-promo-banner__left {
    flex: 0 0 14%;
    position: relative;
    display: flex;
    align-items: center;
    pointer-events: none;
  }
  .matsato-promo-banner__video-wrap {
    width: 100%;
    position: relative;
    overflow: visible;
  }
  .matsato-promo-banner__video-wrap video,
  .matsato-promo-banner__video-wrap iframe {
    width: 180%;
    height: auto;
    display: block;
    mix-blend-mode: screen; /* This removes the black background from the video */
    filter: brightness(1.2) contrast(1.1);
    margin-left: -40%;
  }

  /* CENTER: Content */
  .matsato-promo-banner__center {
       flex: 0 0 42%;
    text-align: center;
  }
  .matsato-promo-banner__subheading {
    font-size: 1.6rem;
    font-weight: 500;
    margin: 0;
    opacity: 0.9;
    letter-spacing: 0.5px;
  }
  .matsato-promo-banner__heading {
    margin: 4px 0 0;
    padding: 0;
    color: #ffffff;
  }
  .matsato-promo-banner__heading .top-line {
    display: block;
    font-size: 2.2rem;
    font-weight: 800;
    text-transform: uppercase;
  }
  .matsato-promo-banner__heading .bottom-line {
    display: block;
    font-size: 2.8rem;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: -0.5px;
  }
  
  .matsato-promo-banner__cta {
    margin-top: 12px;
  }
  .matsato-promo-banner__cta .button {
    padding: 8px 30px;
    font-size: 1rem;
    font-weight: 900;
    text-transform: uppercase;
    background: #ff9900;
    color: #000;
    border: none;
    border-radius: 4px;
    letter-spacing: 1px;
    min-width: 150px;
  }

  /* RIGHT: Visual (The complete blue image with book) */
 
  
  .matsato-promo-banner__inner-img {
    height: 100%;
    margin-left: -15%;
  }

  /* Mobile: Single column stack */
  @media screen and (max-width: 767px) {

    .matsato-promo-banner__grid {
      flex-direction: column;
      gap: 30px;
      padding:30px 0 0 0 ;
     
    }
    .matsato-promo-banner__left {
           height:280px;
    }

    .matsato-promo-banner__center {
      position: absolute;

    }
    .matsato-promo-banner__right {
    display:none;
    }
    .matsato-promo-banner__skew-box {
        width: 100%;
        transform: skewX(0);
    }
    .matsato-promo-banner__inner-img {
        transform: skewX(0);
        width: 100%;
        margin-left: 0;
    }
    .matsato-promo-banner__heading .bottom-line {
        font-size: 2.2rem;
    }
  }
</style>

<section id="PromoBanner-{{ section.id }}" class="matsato-promo-banner">
  <div class="matsato-promo-banner__container">
    <div class="matsato-promo-banner__grid">
      
      <!-- LEFT: Fire Video -->
      <div class="matsato-promo-banner__left">
        {%- if section.settings.video != blank or section.settings.video_url != blank -%}
          <div class="matsato-promo-banner__video-wrap">
            {%- if section.settings.video != blank -%}
              {{ section.settings.video | video_tag: autoplay: true, loop: true, muted: true, controls: false, playsinline: true }}
            {%- elsif section.settings.video_url != blank -%}
              <iframe src="https://www.youtube.com/embed/{{ section.settings.video_url.id }}?autoplay=1&loop=1&mute=1&controls=0&playlist={{ section.settings.video_url.id }}&playsinline=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
            {%- endif -%}
          </div>
        {%- endif -%}
      </div>

      <!-- CENTER: Text -->
      <div class="matsato-promo-banner__center">
        {%- if section.settings.subheading != blank -%}
          <p class="matsato-promo-banner__subheading">{{ section.settings.subheading }}</p>
        {%- endif -%}
        
        <h2 class="matsato-promo-banner__heading">
           <span class="top-line">NOW and get</span>
           <span class="bottom-line">FREE RECIPE BOOK!</span>
        </h2>

        {%- if section.settings.button_label != blank -%}
          <div class="matsato-promo-banner__cta">
            <a href="{{ section.settings.button_link }}" class="button">
              {{ section.settings.button_label }}
            </a>
          </div>
        {%- endif -%}
      </div>

      <!-- RIGHT: Visual (The complete blue image with book) -->
      <div class="matsato-promo-banner__right">
         <div class="matsato-promo-banner__visual-container">
            <div class="matsato-promo-banner__skew-box">
               {%- if section.settings.blue_block_image != blank -%}
                 <img src="{{ section.settings.blue_block_image | image_url: width: 1000 }}" 
                      class="matsato-promo-banner__inner-img" 
                      alt="Promo Visual" loading="lazy">
               {%- else -%}
                 {% comment %} Fallback if no image is uploaded {% endcomment %}
                 <div style="width:100%; height:100%; background: #00a2ff;"></div>
               {%- endif -%}
            </div>
         </div>
      </div>

    </div>
  </div>
</section>

{% schema %}
{
  "name": "Matsato Promo Banner",
  "settings": [
    {
      "type": "header",
      "content": "Desktop Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top",
      "default": 12
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 12
    },
    {
      "type": "header",
      "content": "Mobile Padding"
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top Mobile",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom Mobile",
      "default": 20
    },
    {
      "type": "header",
      "content": "Background Images"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image (Desktop)"
    },
    {
      "type": "image_picker",
      "id": "background_image_mobile",
      "label": "Background Image (Mobile)"
    },
    {
      "type": "header",
      "content": "Visuals: Video (Fire)"
    },
    {
      "type": "video",
      "id": "video",
      "label": "Video (Shopify Video)"
    },
    {
      "type": "video_url",
      "id": "video_url",
      "accept": ["youtube", "vimeo"],
      "label": "Video URL (External)"
    },
    {
      "type": "header",
      "content": "Content Center"
    },
    {
      "type": "inline_richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "Order"
    },
    {
      "type": "header",
      "content": "Right Side Visual"
    },
    {
      "type": "image_picker",
      "id": "blue_block_image",
      "label": "Complete Blue Image",
      "info": "Upload the full image containing the blue background and the book."
    },
    {
      "type": "header",
      "content": "Call to Action"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Matsato Promo Banner"
    }
  ]
}
{% endschema %}
